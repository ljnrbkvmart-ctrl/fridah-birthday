<!DOCTYPE html>
<!--
=====================================================================================
PROJECT: Complete Birthday Experience for Fridah Nyanchama
AUTHOR: Lubanga James
DATE: 1st February 2026
=====================================================================================
-->
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For Fridah ðŸ’– | From Lubanga James</title>

  <!-- GOOGLE FONTS -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Great+Vibes&family=Cormorant+Garamond:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- STYLES -->
  <style>
    :root {
      --color-primary: #ff5e8a;
      --color-secondary: #ffd1dc;
      --color-accent: #ffb6c1;
      --color-bg-main: #ff9a9e;
      --color-bg-soft: #fad0c4;
      --color-white: #ffffff;
      --color-gold: #ffd700;
      --color-deep: #d44d8c;
      --glass-bg-light: rgba(255,255,255,0.15);
      --glass-bg-medium: rgba(255,255,255,0.22);
      --glass-border: rgba(255,255,255,0.35);
      --shadow-heavy: 0 45px 100px rgba(0,0,0,0.4);
      --shadow-medium: 0 25px 55px rgba(0,0,0,0.3);
      --shadow-soft: 0 15px 35px rgba(0,0,0,0.2);
      --radius-xl: 36px;
      --radius-lg: 28px;
      --radius-md: 18px;
      --radius-sm: 10px;
    }

    /* RESET */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      overflow: hidden;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(circle at top, var(--color-bg-main), var(--color-bg-soft) 65%, #fbc2eb);
      color: var(--color-white);
      overflow: hidden;
      position: relative;
    }

    /* STAR BACKGROUND */
    .starry-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s infinite alternate;
    }

    @keyframes twinkle {
      0% { opacity: 0.2; }
      100% { opacity: 1; }
    }

    /* ALL SECTIONS - HIDDEN BY DEFAULT */
    .step {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      z-index: 10;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.8s ease;
    }

    .step.active {
      opacity: 1;
      pointer-events: all;
    }

    /* STEP CONTAINER */
    .step-container {
      max-width: 550px;
      width: 100%;
      padding: 50px 40px;
      text-align: center;
      background: var(--glass-bg-medium);
      backdrop-filter: blur(18px);
      border-radius: var(--radius-xl);
      border: 1px solid var(--glass-border);
      box-shadow: var(--shadow-heavy);
      transform: translateY(20px);
      transition: transform 0.8s ease;
      position: relative;
    }

    .step.active .step-container {
      transform: translateY(0);
    }

    /* TYPOGRAPHY */
    .step-title {
      font-family: 'Great Vibes', cursive;
      font-size: 3.2rem;
      margin-bottom: 20px;
      color: var(--color-deep);
      line-height: 1.2;
    }

    .step-subtitle {
      font-size: 1.2rem;
      opacity: 0.9;
      margin-bottom: 30px;
      line-height: 1.5;
    }

    /* PHOTO */
    .photo-container {
      width: 200px;
      height: 200px;
      margin: 25px auto;
      border-radius: 50%;
      padding: 6px;
      background: linear-gradient(135deg, var(--color-white), var(--color-secondary));
      box-shadow: var(--shadow-soft);
      overflow: hidden;
      border: 3px solid var(--color-white);
    }

    .photo-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
    }

    /* INPUTS */
    .step-input {
      width: 100%;
      padding: 16px 20px;
      border-radius: 40px;
      border: none;
      outline: none;
      font-size: 1rem;
      margin: 20px 0;
      background: rgba(255,255,255,0.9);
      color: #333;
      text-align: center;
      transition: all 0.3s ease;
    }

    .step-input:focus {
      background: white;
      box-shadow: 0 0 0 3px rgba(255, 94, 138, 0.3);
    }

    /* BUTTONS */
    .step-button {
      padding: 16px 40px;
      border-radius: 40px;
      border: none;
      background: var(--color-white);
      color: var(--color-primary);
      font-weight: 600;
      cursor: pointer;
      transition: all 0.35s ease;
      font-size: 1.1rem;
      margin-top: 20px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      min-width: 200px;
    }

    .step-button:hover {
      transform: scale(1.05);
      box-shadow: var(--shadow-medium);
      background: var(--color-primary);
      color: white;
    }

    .step-button:active {
      transform: scale(0.98);
    }

    /* MESSAGE TEXT */
    .message-text {
      font-size: 1.2rem;
      line-height: 1.8;
      margin-bottom: 30px;
      font-family: 'Cormorant Garamond', serif;
      padding: 0 10px;
    }

    .signature {
      margin-top: 40px;
      font-size: 1rem;
      opacity: 0.9;
      font-family: 'Great Vibes', cursive;
      color: var(--color-gold);
      font-size: 1.3rem;
    }

    /* PROGRESS INDICATOR */
    .progress-indicator {
      position: fixed;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 100;
      background: rgba(255,255,255,0.1);
      padding: 10px 20px;
      border-radius: 30px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
    }

    .progress-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255,255,255,0.3);
      transition: all 0.3s ease;
    }

    .progress-dot.active {
      background: var(--color-primary);
      transform: scale(1.3);
    }

    /* HEART ANIMATION */
    .heart-animation {
      position: fixed;
      bottom: 30px;
      right: 30px;
      color: var(--color-primary);
      font-size: 2rem;
      animation: heartbeat 1.5s infinite;
      z-index: 100;
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.3); }
    }

    /* ROSE PETALS */
    .petal {
      position: fixed;
      top: -20px;
      width: 14px;
      height: 14px;
      background: var(--color-accent);
      border-radius: 50% 50% 50% 0;
      transform: rotate(45deg);
      animation: petalFall linear forwards;
      pointer-events: none;
      z-index: 2;
    }

    @keyframes petalFall {
      from { transform: translateY(0) rotate(0deg); opacity: 1; }
      to { transform: translateY(120vh) rotate(420deg); opacity: 0; }
    }

    /* BIRTHDAY DATE */
    .birthday-date {
      display: inline-block;
      background: rgba(0,0,0,0.1);
      padding: 8px 20px;
      border-radius: 30px;
      font-size: 0.9rem;
      margin: 15px 0;
      color: rgba(255,255,255,0.9);
    }

    /* WISH DISPLAY */
    .wish-display {
      background: rgba(255,255,255,0.1);
      padding: 20px;
      border-radius: 20px;
      margin: 20px 0;
      border-left: 4px solid var(--color-primary);
      text-align: left;
    }

    .wish-display p {
      font-size: 1.1rem;
      line-height: 1.6;
    }

    /* QUALITIES LIST */
    .qualities-list {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin: 25px 0;
      text-align: left;
    }

    .quality-item {
      background: rgba(255,255,255,0.1);
      padding: 15px;
      border-radius: 15px;
      border-left: 3px solid var(--color-primary);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .quality-item i {
      color: var(--color-primary);
      font-size: 1.2rem;
    }

    /* JOKE CONTAINER */
    .joke-container {
      background: rgba(255,255,255,0.1);
      padding: 25px;
      border-radius: 20px;
      margin: 25px 0;
      border: 2px dashed var(--color-primary);
    }

    .joke-setup {
      font-size: 1.3rem;
      margin-bottom: 20px;
      color: var(--color-gold);
    }

    .joke-punchline {
      font-size: 1.4rem;
      font-weight: bold;
      color: var(--color-primary);
    }

    /* MUSIC PLAYER */
    .music-player {
      position: fixed;
      bottom: 30px;
      left: 30px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--glass-bg-medium);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 100;
      box-shadow: var(--shadow-soft);
      transition: all 0.3s ease;
    }

    .music-player:hover {
      transform: scale(1.1);
    }

    .music-player i {
      font-size: 1.5rem;
      color: white;
    }

    /* RESPONSIVE */
    @media (max-width: 600px) {
      .step-container {
        padding: 40px 25px;
        max-width: 90%;
      }
      
      .step-title {
        font-size: 2.5rem;
      }
      
      .photo-container {
        width: 180px;
        height: 180px;
      }
      
      .progress-indicator {
        top: 20px;
      }
      
      .qualities-list {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 400px) {
      .step-title {
        font-size: 2.2rem;
      }
      
      .message-text {
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>

  <!-- STAR BACKGROUND -->
  <div class="starry-bg" id="starryBg"></div>

  <!-- HEART ANIMATION -->
  <div class="heart-animation">
    <i class="fas fa-heart"></i>
  </div>

  <!-- MUSIC PLAYER -->
  <div class="music-player" id="musicControl">
    <i class="fas fa-play" id="musicIcon"></i>
  </div>

  <!-- PROGRESS INDICATOR -->
  <div class="progress-indicator" id="progressIndicator">
    <div class="progress-dot" data-step="0"></div>
    <div class="progress-dot" data-step="1"></div>
    <div class="progress-dot" data-step="2"></div>
    <div class="progress-dot" data-step="3"></div>
    <div class="progress-dot" data-step="4"></div>
    <div class="progress-dot" data-step="5"></div>
    <div class="progress-dot" data-step="6"></div>
    <div class="progress-dot" data-step="7"></div>
    <div class="progress-dot" data-step="8"></div>
  </div>

  <!-- ======================
       STEP 0: PASSWORD ENTRY
  ======================= -->
  <div class="step active" id="step0">
    <div class="step-container">
      <h1 class="step-title">For Fridah Only</h1>
      <p class="step-subtitle">A private birthday experience created by Lubanga James</p>
      
      <div class="photo-container">
        <img id="fridah" src="" alt="Fridah Nyanchama">
      </div>
      
      <p class="step-subtitle">Enter your name to begin this special experience</p>
      
      <input type="text" class="step-input" id="passwordInput" placeholder="Type your name here" autocomplete="off">
      
      <button class="step-button" id="enterBtn">
        <i class="fas fa-key"></i> Enter Experience
      </button>
      
      <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.7;">
        This experience is exclusively for Fridah Nyanchama
      </p>
    </div>
  </div>

  <!-- ======================
       STEP 1: BIRTHDAY GREETING
  ======================= -->
  <div class="step" id="step1">
    <div class="step-container">
      <h1 class="step-title">Happy Belated Birthday!</h1>
      
      <div class="birthday-date">
        <i class="fas fa-birthday-cake"></i> 31st January 2026
      </div>
      
      <div class="photo-container">
        <img id="image1" src="" alt="Fridah Nyanchama">
      </div>
      
      <p class="message-text">
        Fridah, though I'm a day late, my wishes come with twice the love.<br><br>
        Your birthday yesterday was a reminder of how grateful I am that you exist in this world.
      </p>
      
      <button class="step-button" id="nextToStep2">
        <i class="fas fa-arrow-right"></i> Continue
      </button>
      
      <div class="signature">- Lubanga James</div>
    </div>
  </div>

  <!-- ======================
       STEP 2: HEARTFELT MESSAGE
  ======================= -->
  <div class="step" id="step2">
    <div class="step-container">
      <h1 class="step-title">A Message for You</h1>
      
      <p class="message-text">
        I want you to know this without any pressure...<br><br>
        
        You are genuinely special to me. There's a calmness and grace about you that I deeply admire.<br><br>
        
        Your intelligence, kindness, and the way you carry yourselfâ€”it all matters to me more than you might realize.<br><br>
        
        I'm grateful for every conversation we've had and every moment we've shared.
      </p>
      
      <button class="step-button" id="nextToStep3">
        <i class="fas fa-heart"></i> Continue to Encouragement
      </button>
      
      <div class="signature">- With sincere admiration, James</div>
    </div>
  </div>

  <!-- ======================
       STEP 3: ENCOURAGEMENT
  ======================= -->
  <div class="step" id="step3">
    <div class="step-container">
      <h1 class="step-title">Why You're Amazing</h1>
      
      <div class="qualities-list">
        <div class="quality-item">
          <i class="fas fa-brain"></i>
          <span>Intelligent & Wise</span>
        </div>
        <div class="quality-item">
          <i class="fas fa-heart"></i>
          <span>Kind & Compassionate</span>
        </div>
        <div class="quality-item">
          <i class="fas fa-star"></i>
          <span>Beautiful Inside & Out</span>
        </div>
        <div class="quality-item">
          <i class="fas fa-laugh-beam"></i>
          <span>Wonderful Sense of Humor</span>
        </div>
        <div class="quality-item">
          <i class="fas fa-hand-holding-heart"></i>
          <span>Caring & Thoughtful</span>
        </div>
        <div class="quality-item">
          <i class="fas fa-bullseye"></i>
          <span>Determined & Strong</span>
        </div>
      </div>
      
      <p class="message-text">
        Fridah, you have so much potential and so many wonderful qualities.<br><br>
        Never doubt your worth or capabilities. You're capable of achieving anything you set your mind to.
      </p>
      
      <button class="step-button" id="nextToStep4">
        <i class="fas fa-graduation-cap"></i> Continue to Success
      </button>
      
      <div class="signature">- Believing in you, James</div>
    </div>
  </div>

  <!-- ======================
       STEP 4: SCHOOL & SUCCESS
  ======================= -->
  <div class="step" id="step4">
    <div class="step-container">
      <h1 class="step-title">Your Success Journey</h1>
      
      <div style="font-size: 4rem; color: var(--color-gold); margin: 20px 0;">
        <i class="fas fa-graduation-cap"></i>
      </div>
      
      <p class="message-text">
        I believe in you and your potential to achieve great things.<br><br>
        
        About the course you droppedâ€”I want you to know that it's never too late.<br><br>
        
        <strong style="color: var(--color-gold);">Consider going back to school.</strong> Finish what you started.<br><br>
        
        You have the intelligence, the strength, and the determination to complete it successfully.<br><br>
        
        I'll support you in any way I can. Your education is an investment in your future, and you deserve to see it through.
      </p>
      
      <button class="step-button" id="nextToStep5">
        <i class="fas fa-smile-beam"></i> Let's Make You Smile
      </button>
      
      <div class="signature">- Your biggest supporter, James</div>
    </div>
  </div>

  <!-- ======================
       STEP 5: MAKE HER SMILE
  ======================= -->
  <div class="step" id="step5">
    <div class="step-container">
      <h1 class="step-title">Time to Smile ðŸ˜Š</h1>
      
      <div class="joke-container">
        <div class="joke-setup">Why don't scientists trust atoms?</div>
        <div class="joke-punchline" id="jokePunchline" style="display: none;">Because they make up everything!</div>
        <button class="step-button" id="revealJoke" style="background: var(--color-gold); color: #333; margin-top: 20px;">
          <i class="fas fa-laugh-wink"></i> Reveal Joke
        </button>
      </div>
      
      <p class="message-text">
        Your smile is one of my favorite sights in the world.<br><br>
        It lights up any room and brings joy to everyone around you.<br><br>
        Never forget to find moments of joy and laughter in your day.
      </p>
      
      <button class="step-button" id="nextToStep6">
        <i class="fas fa-gift"></i> Your Birthday Wish
      </button>
      
      <div class="signature">- Always here to make you smile, James</div>
    </div>
  </div>

  <!-- ======================
       STEP 6: BIRTHDAY WISH INPUT
  ======================= -->
  <div class="step" id="step6">
    <div class="step-container">
      <h1 class="step-title">Your Birthday Wish</h1>
      
      <p class="step-subtitle">
        If you could have anything for your birthday, what would it be?<br>
        (Be as specific or general as you'd like)
      </p>
      
      <textarea class="step-input" id="birthdayWish" placeholder="Type your birthday wish here..." rows="4" style="border-radius: 20px; min-height: 120px;"></textarea>
      
      <div style="display: flex; gap: 15px; justify-content: center; margin-top: 20px;">
        <button class="step-button" id="skipWish" style="background: rgba(255,255,255,0.2); color: white;">
          <i class="fas fa-forward"></i> Skip
        </button>
        
        <button class="step-button" id="submitWish">
          <i class="fas fa-gift"></i> Submit Wish
        </button>
      </div>
      
      <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.7;">
        Your wish will be remembered for Valentine's Day
      </p>
    </div>
  </div>

  <!-- ======================
       STEP 7: VALENTINE'S PROMISE
  ======================= -->
  <div class="step" id="step7">
    <div class="step-container">
      <h1 class="step-title">For Valentine's Day</h1>
      
      <div id="wishDisplay" class="wish-display" style="display: none;">
        <p><strong>Your Wish:</strong> <span id="wishText"></span></p>
      </div>
      
      <div style="font-size: 4rem; color: var(--color-primary); margin: 20px 0;">
        <i class="fas fa-heart"></i>
      </div>
      
      <p class="message-text">
        I want to make you a promise...<br><br>
        
        On Valentine's Day (February 14, 2026), I will personally ensure you receive something special.<br><br>
        
        <span id="wishPromise" style="color: var(--color-gold); font-weight: 500;">
          Your birthday wish will be remembered and honored.
        </span><br><br>
        
        This is my commitment to youâ€”to show you that you're valued and appreciated.
      </p>
      
      <button class="step-button" id="nextToStep8">
        <i class="fas fa-calendar-heart"></i> Continue to Final Message
      </button>
      
      <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.7;">
        Valentine's Day: February 14, 2026
      </p>
    </div>
  </div>

  <!-- ======================
       STEP 8: FINAL THOUGHTS
  ======================= -->
  <div class="step" id="step8">
    <div class="step-container">
      <h1 class="step-title">Thank You, Fridah</h1>
      
      <div class="photo-container">
        <img id="image2" src="" alt="Fridah Nyanchama">
      </div>
      
      <p class="message-text">
        Thank you for taking the time to go through this experience.<br><br>
        
        I hope it made you smile, feel encouraged, and know how special you are.<br><br>
        
        Remember:<br>
        â€¢ You are incredible<br>
        â€¢ You deserve all happiness<br>
        â€¢ You can achieve anything<br>
        â€¢ You are valued<br><br>
        
        I'll be in touch soon. Until then, know that you have my sincere admiration and respect.
      </p>
      
      <button class="step-button" id="restartBtn">
        <i class="fas fa-redo"></i> Experience Again
      </button>
      
      <div class="signature">- Always, Lubanga James</div>
      
      <p style="margin-top: 30px; font-size: 0.8rem; opacity: 0.6;">
        Created with care on 1st February 2026
      </p>
    </div>
  </div>

  <!-- BACKGROUND MUSIC -->
  <audio id="backgroundMusic">
    <!-- Will be set dynamically -->
  </audio>

  <!-- ======================
       JAVASCRIPT
  ======================= -->
  <script>
    // DOM Elements
    const steps = document.querySelectorAll('.step');
    const progressDots = document.querySelectorAll('.progress-dot');
    const starryBg = document.getElementById('starryBg');
    
    // Input elements
    const passwordInput = document.getElementById('passwordInput');
    const birthdayWish = document.getElementById('birthdayWish');
    
    // Image elements
    const mainImage = document.getElementById('fridah');
    const image1 = document.getElementById('image1');
    const image2 = document.getElementById('image2');
    
    // Button elements
    const enterBtn = document.getElementById('enterBtn');
    const nextToStep2 = document.getElementById('nextToStep2');
    const nextToStep3 = document.getElementById('nextToStep3');
    const nextToStep4 = document.getElementById('nextToStep4');
    const nextToStep5 = document.getElementById('nextToStep5');
    const nextToStep6 = document.getElementById('nextToStep6');
    const skipWish = document.getElementById('skipWish');
    const submitWish = document.getElementById('submitWish');
    const nextToStep8 = document.getElementById('nextToStep8');
    const restartBtn = document.getElementById('restartBtn');
    const revealJoke = document.getElementById('revealJoke');
    
    // Display elements
    const wishDisplay = document.getElementById('wishDisplay');
    const wishText = document.getElementById('wishText');
    const wishPromise = document.getElementById('wishPromise');
    const jokePunchline = document.getElementById('jokePunchline');
    
    // Music elements
    const musicControl = document.getElementById('musicControl');
    const musicIcon = document.getElementById('musicIcon');
    const backgroundMusic = document.getElementById('backgroundMusic');
    
    // State
    let currentStep = 0;
    let userWish = '';
    let isMusicPlaying = false;
    
    // ======================
    // INITIALIZATION
    // ======================
    function init() {
      createStars();
      updateProgress();
      startPetals();
      setupMusic();
      loadImages();
      
      // Focus on password input
      passwordInput.focus();
      
      // Console welcome
      console.log('%cðŸŽ‚ For Fridah Nyanchama ðŸŽ‚', 'color: #ff5e8a; font-size: 18px; font-weight: bold;');
      console.log('%cComplete step-by-step experience by Lubanga James', 'color: #ffb6c1; font-size: 14px;');
    }
    
    // ======================
    // IMAGE LOADING
    // ======================
    function loadImages() {
      // Try different image sources in order
      const imageSources = [
        'fridah.jpg',
        'friday.jpg',
        'friday',
        'fridah' 
      ];
      
      // Function to set image source with fallback
      function setImageWithFallback(imgElement, sources, index = 0) {
        if (index >= sources.length) {
          console.log('No image found, using default');
          imgElement.src = sources[sources.length - 1]; // Last is default
          return;
        }
        
        const tempImg = new Image();
        tempImg.onload = function() {
          imgElement.src = sources[index];
        };
        tempImg.onerror = function() {
          setImageWithFallback(imgElement, sources, index + 1);
        };
        tempImg.src = sources[index];
      }
      
      // Set images for all containers
      setImageWithFallback(mainImage, imageSources);
      setImageWithFallback(image1, imageSources);
      setImageWithFallback(image2, imageSources);
    }
    
    // ======================
    // MUSIC SETUP
    // ======================
    function setupMusic() {
      // Try different music sources
      const musicSources = [
        'music.mp3',
        'music',
        'https://assets.mixkit.co/music/preview/mixkit-romantic-sunset-687.mp3'
      ];
      
      // Set source with error handling
      backgroundMusic.src = musicSources[0];
      backgroundMusic.load();
      
      // Handle errors
      backgroundMusic.onerror = function() {
        console.log('First music source failed, trying next...');
        backgroundMusic.src = musicSources[1];
        backgroundMusic.load();
        
        backgroundMusic.onerror = function() {
          console.log('Second music source failed, using default...');
          backgroundMusic.src = musicSources[2];
          backgroundMusic.load();
        };
      };
      
      // Set volume
      backgroundMusic.volume = 0.3;
    }
    
    // ======================
    // MUSIC CONTROL
    // ======================
    function toggleMusic() {
      if (isMusicPlaying) {
        backgroundMusic.pause();
        musicIcon.className = 'fas fa-play';
      } else {
        backgroundMusic.play().catch(e => {
          console.log('Music play failed:', e);
        });
        musicIcon.className = 'fas fa-pause';
      }
      isMusicPlaying = !isMusicPlaying;
    }
    
    musicControl.addEventListener('click', toggleMusic);
    
    // ======================
    // STAR FIELD GENERATION
    // ======================
    function createStars() {
      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.classList.add('star');
        
        const size = Math.random() * 3 + 1;
        const left = Math.random() * 100;
        const top = Math.random() * 100;
        const duration = Math.random() * 4 + 2;
        const delay = Math.random() * 5;
        
        star.style.width = `${size}px`;
        star.style.height = `${size}px`;
        star.style.left = `${left}%`;
        star.style.top = `${top}%`;
        star.style.animationDuration = `${duration}s`;
        star.style.animationDelay = `${delay}s`;
        
        starryBg.appendChild(star);
      }
    }
    
    // ======================
    // STEP NAVIGATION
    // ======================
    function goToStep(stepIndex) {
      // Validate step index
      if (stepIndex < 0 || stepIndex >= steps.length) return;
      
      // Hide current step
      steps[currentStep].classList.remove('active');
      
      // Update current step
      currentStep = stepIndex;
      
      // Show new step
      steps[currentStep].classList.add('active');
      
      // Update progress indicator
      updateProgress();
      
      // Special actions for certain steps
      if (stepIndex === 0) {
        passwordInput.focus();
      } else if (stepIndex === 6) {
        birthdayWish.focus();
      } else if (stepIndex === 7) {
        // Show wish display if wish was entered
        if (userWish) {
          wishText.textContent = userWish;
          wishDisplay.style.display = 'block';
          wishPromise.innerHTML = "Your wish for <strong>" + userWish + "</strong> will be remembered and honored.";
        } else {
          wishPromise.innerHTML = "I will make sure you receive something meaningful and special.";
        }
      }
    }
    
    // ======================
    // UPDATE PROGRESS DOTS
    // ======================
    function updateProgress() {
      progressDots.forEach((dot, index) => {
        if (index === currentStep) {
          dot.classList.add('active');
        } else {
          dot.classList.remove('active');
        }
      });
    }
    
    // ======================
    // ROSE PETALS
    // ======================
    function startPetals() {
      setInterval(() => {
        if (currentStep > 0) { // Only show petals after step 0
          createPetal();
        }
      }, 800);
    }
    
    function createPetal() {
      const petal = document.createElement('div');
      petal.className = 'petal';
      petal.style.left = Math.random() * 100 + 'vw';
      petal.style.animationDuration = 8 + Math.random() * 6 + 's';
      petal.style.opacity = Math.random() * 0.7 + 0.3;
      petal.style.background = `hsl(${Math.random() * 30 + 330}, 100%, 70%)`;
      
      document.body.appendChild(petal);
      setTimeout(() => {
        if (petal.parentNode) {
          document.body.removeChild(petal);
        }
      }, 15000);
    }
    
    // ======================
    // EVENT LISTENERS
    // ======================
    // Password entry
    enterBtn.addEventListener('click', () => {
      const name = passwordInput.value.trim().toLowerCase();
      
      if (name === 'fridah' || name === 'fridah nyanchama' || name === 'friday') {
        // Success - move to step 1
        goToStep(1);
        
        // Create celebration petals
        for (let i = 0; i < 15; i++) {
          setTimeout(() => createPetal(), i * 100);
        }
        
        // Start music
        toggleMusic();
      } else if (name === '') {
        alert('Please enter your name to continue');
        passwordInput.focus();
      } else {
        // Incorrect name
        passwordInput.style.animation = 'shake 0.5s';
        passwordInput.value = '';
        passwordInput.placeholder = 'Try "Fridah"';
        passwordInput.focus();
        
        setTimeout(() => {
          passwordInput.style.animation = '';
        }, 500);
      }
    });
    
    // Allow Enter key for password
    passwordInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        enterBtn.click();
      }
    });
    
    // Navigation buttons
    nextToStep2.addEventListener('click', () => goToStep(2));
    nextToStep3.addEventListener('click', () => goToStep(3));
    nextToStep4.addEventListener('click', () => goToStep(4));
    nextToStep5.addEventListener('click', () => goToStep(5));
    nextToStep6.addEventListener('click', () => goToStep(6));
    nextToStep8.addEventListener('click', () => goToStep(8));
    
    // Reveal joke
    revealJoke.addEventListener('click', () => {
      jokePunchline.style.display = 'block';
      revealJoke.innerHTML = '<i class="fas fa-laugh"></i> Got it!';
      revealJoke.style.background = '#4CAF50';
      revealJoke.style.color = 'white';
    });
    
    // Birthday wish handling
    submitWish.addEventListener('click', () => {
      userWish = birthdayWish.value.trim();
      
      if (userWish) {
        // Move to next step
        goToStep(7);
        
        // Confirmation effect
        submitWish.innerHTML = '<i class="fas fa-check"></i> Wish Saved!';
        submitWish.style.background = '#4CAF50';
        submitWish.style.color = 'white';
        
        setTimeout(() => {
          submitWish.innerHTML = '<i class="fas fa-gift"></i> Submit Wish';
          submitWish.style.background = '';
          submitWish.style.color = '';
        }, 1500);
      } else {
        birthdayWish.style.border = '2px solid #ff5e8a';
        birthdayWish.focus();
        
        setTimeout(() => {
          birthdayWish.style.border = '';
        }, 1000);
      }
    });
    
    skipWish.addEventListener('click', () => {
      userWish = '';
      goToStep(7);
    });
    
    // Restart button
    restartBtn.addEventListener('click', () => {
      // Reset everything
      currentStep = 0;
      userWish = '';
      passwordInput.value = '';
      birthdayWish.value = '';
      wishDisplay.style.display = 'none';
      jokePunchline.style.display = 'none';
      revealJoke.innerHTML = '<i class="fas fa-laugh-wink"></i> Reveal Joke';
      revealJoke.style.background = '';
      revealJoke.style.color = '';
      
      // Go back to step 0
      goToStep(0);
    });
    
    // Progress dot navigation
    progressDots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        if (index <= currentStep) {
          goToStep(index);
        }
      });
    });
    
    // ======================
    // ANIMATION KEYFRAMES
    // ======================
    const style = document.createElement('style');
    style.textContent = `
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
    `;
    document.head.appendChild(style);
    
    // ======================
    // LOAD SAVED WISH
    // ======================
    window.addEventListener('load', () => {
      // Initialize
      init();
    });
    
  </script>

</body>

</html>
